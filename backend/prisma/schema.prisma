// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum Role {
  STUDENT
  TEACHER
  ADMIN
  PARENT
}

enum Gender {
  MALE
  FEMALE
  OTHER
}

enum Status {
  ACTIVE
  INACTIVE
  SUSPENDED
}

enum CLASS {
  FIRST
  SECOND
  THIRD
  FOURTH
  FIFTH
  SIXTH
  SEVENTH
  EIGHTH
  NINTH
  TENTH
  ELEVENTH
  TWELFTH
}

enum Section {
  A
  B
  C
  D
}

enum RELEGION {
  HINDU
  MUSLIM
  CHRISTIAN
  SIKH
  BUDDHIST
  JAIN
  OTHER
}

model User {
  id          Int      @id @default(autoincrement())
  name        String
  email       String   @unique
  phoneNumber String   @unique
  password    String
  roles       Role     @default(ADMIN)
  loginStatus Status   @default(ACTIVE)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  @@map("admin")
}

model Student {
  id          String   @id @default(cuid())
  firstName   String
  lastName    String
  fatherName  String
  motherName  String
  dateOfBirth DateTime
  gender      Gender
  class       CLASS
  section     Section
  rollNumber  Int?
  bloodGroup  String?
  address     String
  phoneNumber String
  relegion    RELEGION
  city        String
  state       String
  zipCode     String
  country     String
  photo       String?
  email       String?  
  status      Status   @default(ACTIVE)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model Teacher {
  id          Int   @id @default(autoincrement())
  firstName   String
  lastName    String
  dateOfBirth DateTime
  gender      Gender
  subject     String
  address     String
  phoneNumber String  @unique
  email       String   @unique
  qualification String
  experience  Int
  status      Status   @default(ACTIVE)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  experiences Experiences[]
}
model Experiences {
  id          Int      @id @default(autoincrement())
  teacherId   Int
  schoolName  String
  fromDate    DateTime
  toDate      DateTime
  position    String
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  teacher     Teacher  @relation(fields: [teacherId], references: [id], onDelete: Cascade)
}
model Parent {
  id          Int      @id @default(autoincrement())
  firstName   String
  lastName    String
  phoneNumber String   @unique
  email       String   @unique
  address     String
  occupation  String
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

}
